<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i ki·ªÉm tra T·ª´ v·ª±ng - Unit 2: My Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .answer-key, .teacher-feedback {
            display: none;
        }
        .teacher-mode .answer-key {
            display: inline;
        }
        .teacher-mode .teacher-feedback {
            display: block;
        }
        .input-correct-teacher {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        .input-incorrect-teacher {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto p-4 sm:p-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-purple-700">B√†i ki·ªÉm tra t·ª´ v·ª±ng: Unit 2</h1>
            <p class="text-gray-600 mt-2">Ho√†n th√†nh c√°c b√†i t·∫≠p d∆∞·ªõi ƒë√¢y ƒë·ªÉ ki·ªÉm tra ki·∫øn th·ª©c c·ªßa b·∫°n.</p>
        </header>

        <!-- Teacher Mode Status (Hidden by default) -->
        <div id="teacher-status" class="flex justify-end mb-8" style="display: none;">
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded">
                <span class="font-medium">üéì Ch·∫ø ƒë·ªô Gi√°o vi√™n ƒë√£ k√≠ch ho·∫°t</span>
            </div>
        </div>

        <div class="space-y-12">
            <!-- Part 1: Vietnamese to English -->
            <section id="part1" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Ph·∫ßn 1: Vi·∫øt t·ª´ ti·∫øng Anh t∆∞∆°ng ·ª©ng</h2>
                <div class="space-y-4">
                    <!-- Question 1 -->
                    <div>
                        <label class="block text-gray-700">1. cƒÉn h·ªô: 
                            <span class="answer-key text-green-600 font-bold ml-2">(apartment)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 2 -->
                    <div>
                        <label class="block text-gray-700">2. ph√≤ng kh√°ch: 
                            <span class="answer-key text-green-600 font-bold ml-2">(living room)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 3 -->
                    <div>
                        <label class="block text-gray-700">3. t·ªß l·∫°nh: 
                            <span class="answer-key text-green-600 font-bold ml-2">(fridge)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 4 -->
                    <div>
                        <label class="block text-gray-700">4. l·ªôn x·ªôn, b·ª´a b·ªôn: 
                            <span class="answer-key text-green-600 font-bold ml-2">(messy)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 5 -->
                    <div>
                        <label class="block text-gray-700">5. ph√≤ng ng·ªß: 
                            <span class="answer-key text-green-600 font-bold ml-2">(bedroom)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 6 -->
                    <div>
                        <label class="block text-gray-700">6. nh√† b·∫øp: 
                            <span class="answer-key text-green-600 font-bold ml-2">(kitchen)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 7 -->
                    <div>
                        <label class="block text-gray-700">7. t·ªß qu·∫ßn √°o: 
                            <span class="answer-key text-green-600 font-bold ml-2">(wardrobe)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 8 -->
                    <div>
                        <label class="block text-gray-700">8. gh·∫ø sofa: 
                            <span class="answer-key text-green-600 font-bold ml-2">(sofa)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 9 -->
                    <div>
                        <label class="block text-gray-700">9. ph√≤ng t·∫Øm: 
                            <span class="answer-key text-green-600 font-bold ml-2">(bathroom)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 10 -->
                    <div>
                        <label class="block text-gray-700">10. s·∫°ch s·∫Ω, g·ªçn g√†ng: 
                            <span class="answer-key text-green-600 font-bold ml-2">(tidy)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                </div>
                <div class="mt-6 text-right">
                    <span class="student-feedback font-bold mr-4"></span>
                    <button class="check-btn bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Ki·ªÉm tra Ph·∫ßn 1</button>
                </div>
            </section>

            <!-- Part 2: Fill in the Blanks -->
            <section id="part2" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Ph·∫ßn 2: ƒêi·ªÅn t·ª´ c√≤n thi·∫øu v√†o c√¢u</h2>
                <div class="space-y-4">
                    <!-- Question 1 -->
                    <div>
                        <label class="block text-gray-700">1. He hung his suit in the <input type="text" class="mx-2 p-1 w-32 rounded-md border-gray-300 shadow-sm">.
                            <span class="answer-key text-green-600 font-bold ml-2">(wardrobe)</span>
                        </label>
                    </div>
                    <!-- Question 2 -->
                    <div>
                        <label class="block text-gray-700">2. Reheat the soup in the <input type="text" class="mx-2 p-1 w-32 rounded-md border-gray-300 shadow-sm">.
                            <span class="answer-key text-green-600 font-bold ml-2">(microwave)</span>
                        </label>
                    </div>
                    <!-- Question 3 -->
                    <div>
                        <label class="block text-gray-700">3. His bedroom is <input type="text" class="mx-2 p-1 w-32 rounded-md border-gray-300 shadow-sm"> the living room.
                            <span class="answer-key text-green-600 font-bold ml-2">(next to)</span>
                        </label>
                    </div>
                    <!-- Question 4 -->
                     <div>
                        <label class="block text-gray-700">4. You should buy some new <input type="text" class="mx-2 p-1 w-32 rounded-md border-gray-300 shadow-sm"> for your apartment.
                            <span class="answer-key text-green-600 font-bold ml-2">(furniture)</span>
                        </label>
                    </div>
                    <!-- Question 5 -->
                    <div>
                        <label class="block text-gray-700">5. The milk is in the <input type="text" class="mx-2 p-1 w-32 rounded-md border-gray-300 shadow-sm"> to keep it fresh.
                            <span class="answer-key text-green-600 font-bold ml-2">(fridge)</span>
                        </label>
                    </div>
                    <!-- Question 6 -->
                    <div>
                        <label class="block text-gray-700">6. We watch TV in the <input type="text" class="mx-2 p-1 w-32 rounded-md border-gray-300 shadow-sm"> every evening.
                            <span class="answer-key text-green-600 font-bold ml-2">(living room)</span>
                        </label>
                    </div>
                    <!-- Question 7 -->
                    <div>
                        <label class="block text-gray-700">7. I brush my teeth in the <input type="text" class="mx-2 p-1 w-32 rounded-md border-gray-300 shadow-sm"> every morning.
                            <span class="answer-key text-green-600 font-bold ml-2">(bathroom)</span>
                        </label>
                    </div>
                    <!-- Question 8 -->
                    <div>
                        <label class="block text-gray-700">8. My room is very <input type="text" class="mx-2 p-1 w-32 rounded-md border-gray-300 shadow-sm"> because I clean it every day.
                            <span class="answer-key text-green-600 font-bold ml-2">(tidy)</span>
                        </label>
                    </div>
                </div>
                <div class="mt-6 text-right">
                    <span class="student-feedback font-bold mr-4"></span>
                    <button class="check-btn bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Ki·ªÉm tra Ph·∫ßn 2</button>
                </div>
            </section>

            <!-- Part 3: Multiple Choice -->
            <section id="part3" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Ph·∫ßn 3: Ch·ªçn lo·∫°i t·ª´ ƒë√∫ng</h2>
                <div class="space-y-4">
                    <!-- Question 1 -->
                    <div>
                        <p class="text-gray-700">1. T·ª´ "move" l√†:</p>
                        <div class="flex space-x-4 mt-2">
                            <label><input type="radio" name="q3_1" value="n."> Danh t·ª´</label>
                            <label><input type="radio" name="q3_1" value="v."> ƒê·ªông t·ª´</label>
                            <label><input type="radio" name="q3_1" value="adj."> T√≠nh t·ª´</label>
                        </div>
                        <p class="teacher-feedback text-sm text-green-600 font-bold mt-1">ƒê√°p √°n ƒë√∫ng: ƒê·ªông t·ª´</p>
                    </div>
                     <!-- Question 2 -->
                    <div>
                        <p class="text-gray-700">2. T·ª´ "crazy" l√†:</p>
                        <div class="flex space-x-4 mt-2">
                            <label><input type="radio" name="q3_2" value="n."> Danh t·ª´</label>
                            <label><input type="radio" name="q3_2" value="v."> ƒê·ªông t·ª´</label>
                            <label><input type="radio" name="q3_2" value="adj."> T√≠nh t·ª´</label>
                        </div>
                         <p class="teacher-feedback text-sm text-green-600 font-bold mt-1">ƒê√°p √°n ƒë√∫ng: T√≠nh t·ª´</p>
                    </div>
                     <!-- Question 3 -->
                    <div>
                        <p class="text-gray-700">3. T·ª´ "apartment" l√†:</p>
                        <div class="flex space-x-4 mt-2">
                            <label><input type="radio" name="q3_3" value="n."> Danh t·ª´</label>
                            <label><input type="radio" name="q3_3" value="v."> ƒê·ªông t·ª´</label>
                            <label><input type="radio" name="q3_3" value="adj."> T√≠nh t·ª´</label>
                        </div>
                         <p class="teacher-feedback text-sm text-green-600 font-bold mt-1">ƒê√°p √°n ƒë√∫ng: Danh t·ª´</p>
                    </div>
                     <!-- Question 4 -->
                    <div>
                        <p class="text-gray-700">4. T·ª´ "messy" l√†:</p>
                        <div class="flex space-x-4 mt-2">
                            <label><input type="radio" name="q3_4" value="n."> Danh t·ª´</label>
                            <label><input type="radio" name="q3_4" value="v."> ƒê·ªông t·ª´</label>
                            <label><input type="radio" name="q3_4" value="adj."> T√≠nh t·ª´</label>
                        </div>
                         <p class="teacher-feedback text-sm text-green-600 font-bold mt-1">ƒê√°p √°n ƒë√∫ng: T√≠nh t·ª´</p>
                    </div>
                     <!-- Question 5 -->
                    <div>
                        <p class="text-gray-700">5. T·ª´ "kitchen" l√†:</p>
                        <div class="flex space-x-4 mt-2">
                            <label><input type="radio" name="q3_5" value="n."> Danh t·ª´</label>
                            <label><input type="radio" name="q3_5" value="v."> ƒê·ªông t·ª´</label>
                            <label><input type="radio" name="q3_5" value="adj."> T√≠nh t·ª´</label>
                        </div>
                         <p class="teacher-feedback text-sm text-green-600 font-bold mt-1">ƒê√°p √°n ƒë√∫ng: Danh t·ª´</p>
                    </div>
                     <!-- Question 6 -->
                    <div>
                        <p class="text-gray-700">6. T·ª´ "tidy" l√†:</p>
                        <div class="flex space-x-4 mt-2">
                            <label><input type="radio" name="q3_6" value="n."> Danh t·ª´</label>
                            <label><input type="radio" name="q3_6" value="v."> ƒê·ªông t·ª´</label>
                            <label><input type="radio" name="q3_6" value="adj."> T√≠nh t·ª´</label>
                        </div>
                         <p class="teacher-feedback text-sm text-green-600 font-bold mt-1">ƒê√°p √°n ƒë√∫ng: T√≠nh t·ª´</p>
                    </div>
                </div>
                <div class="mt-6 text-right">
                    <span class="student-feedback font-bold mr-4"></span>
                    <button class="check-btn bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Ki·ªÉm tra Ph·∫ßn 3</button>
                </div>
            </section>

             <!-- Part 4: Unscramble -->
            <section id="part4" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Ph·∫ßn 4: S·∫Øp x·∫øp c√°c ch·ªØ c√°i th√†nh t·ª´ ƒë√∫ng</h2>
                <div class="space-y-4">
                    <!-- Question 1 -->
                    <div>
                        <label class="block text-gray-700">1. ofsa &rarr; 
                            <span class="answer-key text-green-600 font-bold ml-2">(sofa)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                     <!-- Question 2 -->
                    <div>
                        <label class="block text-gray-700">2. thabomor &rarr; 
                            <span class="answer-key text-green-600 font-bold ml-2">(bathroom)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                     <!-- Question 3 -->
                    <div>
                        <label class="block text-gray-700">3. pucdraob &rarr; 
                            <span class="answer-key text-green-600 font-bold ml-2">(cupboard)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                     <!-- Question 4 -->
                    <div>
                        <label class="block text-gray-700">4. nehcitk &rarr; 
                            <span class="answer-key text-green-600 font-bold ml-2">(kitchen)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                     <!-- Question 5 -->
                    <div>
                        <label class="block text-gray-700">5. dorbwera &rarr; 
                            <span class="answer-key text-green-600 font-bold ml-2">(wardrobe)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                     <!-- Question 6 -->
                    <div>
                        <label class="block text-gray-700">6. drifge &rarr; 
                            <span class="answer-key text-green-600 font-bold ml-2">(fridge)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                     <!-- Question 7 -->
                    <div>
                        <label class="block text-gray-700">7. symes &rarr; 
                            <span class="answer-key text-green-600 font-bold ml-2">(messy)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                     <!-- Question 8 -->
                    <div>
                        <label class="block text-gray-700">8. dity &rarr; 
                            <span class="answer-key text-green-600 font-bold ml-2">(tidy)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    </div>
                </div>
                <div class="mt-6 text-right">
                    <span class="student-feedback font-bold mr-4"></span>
                    <button class="check-btn bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Ki·ªÉm tra Ph·∫ßn 4</button>
                </div>
            </section>

            <!-- Part 5: English to Vietnamese -->
            <section id="part5" class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Ph·∫ßn 5: Vi·∫øt nghƒ©a ti·∫øng Vi·ªát t∆∞∆°ng ·ª©ng</h2>
                <div class="space-y-4">
                    <!-- Question 1 -->
                    <div>
                        <label class="block text-gray-700">1. microwave: 
                            <span class="answer-key text-green-600 font-bold ml-2">(l√≤ vi s√≥ng)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 2 -->
                    <div>
                        <label class="block text-gray-700">2. furniture: 
                            <span class="answer-key text-green-600 font-bold ml-2">(ƒë·ªì n·ªôi th·∫•t)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 3 -->
                    <div>
                        <label class="block text-gray-700">3. cupboard: 
                            <span class="answer-key text-green-600 font-bold ml-2">(t·ªß ch√©n)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 4 -->
                    <div>
                        <label class="block text-gray-700">4. next to: 
                            <span class="answer-key text-green-600 font-bold ml-2">(b√™n c·∫°nh)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 5 -->
                    <div>
                        <label class="block text-gray-700">5. crazy: 
                            <span class="answer-key text-green-600 font-bold ml-2">(ƒëi√™n, ph√°t cu·ªìng)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                     <!-- Question 6 -->
                    <div>
                        <label class="block text-gray-700">6. move: 
                            <span class="answer-key text-green-600 font-bold ml-2">(di chuy·ªÉn)</span>
                        </label>
                        <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    </div>
                </div>
                <div class="mt-6 text-right">
                    <span class="student-feedback font-bold mr-4"></span>
                    <button class="check-btn bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Ki·ªÉm tra Ph·∫ßn 5</button>
                </div>
            </section>
        </div>
    </div>

    <script>
        const answers = {
            part1: ["apartment", "living room", "fridge", "messy", "bedroom", "kitchen", "wardrobe", "sofa", "bathroom", "tidy"],
            part2: ["wardrobe", "microwave", "next to", "furniture", "fridge", "living room", "bathroom", "tidy"],
            part3: ["v.", "adj.", "n.", "adj.", "n.", "adj."],
            part4: ["sofa", "bathroom", "cupboard", "kitchen", "wardrobe", "fridge", "messy", "tidy"],
            part5: ["l√≤ vi s√≥ng", "ƒë·ªì n·ªôi th·∫•t", "t·ªß ch√©n", "b√™n c·∫°nh", "ƒëi√™n, ph√°t cu·ªìng", "di chuy·ªÉn"]
        };

        const body = document.body;
        const teacherStatus = document.getElementById('teacher-status');

        // Teacher mode console functions
        window.enableTeacherMode = function(password) {
            if (password === "giaoVien123") {
                body.classList.add('teacher-mode');
                teacherStatus.style.display = 'flex';
                console.log("‚úÖ Ch·∫ø ƒë·ªô gi√°o vi√™n ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t!");
                return "Ch·∫ø ƒë·ªô gi√°o vi√™n ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t th√†nh c√¥ng.";
            } else {
                console.log("‚ùå M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng!");
                return "M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng!";
            }
        };

        window.disableTeacherMode = function() {
            body.classList.remove('teacher-mode');
            teacherStatus.style.display = 'none';
            console.log("üîí Ch·∫ø ƒë·ªô gi√°o vi√™n ƒë√£ ƒë∆∞·ª£c t·∫Øt!");
            return "Ch·∫ø ƒë·ªô gi√°o vi√™n ƒë√£ ƒë∆∞·ª£c t·∫Øt.";
        };

        // Help function for teachers
        window.teacherHelp = function() {
            console.log(`
üéì H∆Ø·ªöNG D·∫™N CH·∫æ ƒê·ªò GI√ÅO VI√äN:

ƒê·ªÉ k√≠ch ho·∫°t ch·∫ø ƒë·ªô gi√°o vi√™n:
enableTeacherMode("m·∫≠t_kh·∫©u")

ƒê·ªÉ t·∫Øt ch·∫ø ƒë·ªô gi√°o vi√™n:
disableTeacherMode()

ƒê·ªÉ xem h∆∞·ªõng d·∫´n n√†y:
teacherHelp()

V√≠ d·ª•: enableTeacherMode("giaoVien123")
            `);
            return "ƒê√£ hi·ªÉn th·ªã h∆∞·ªõng d·∫´n trong console.";
        };

        document.querySelectorAll('.check-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const section = e.target.closest('section');
                const sectionId = section.id;
                const inputs = section.querySelectorAll('input[type="text"], input[type="radio"]:checked');
                const feedbackEl = section.querySelector('.student-feedback');
                let allCorrect = true;

                if (sectionId === 'part3') { // Multiple choice logic
                    const correctAnswers = answers[sectionId];
                    const radioGroups = section.querySelectorAll('div > p + div'); // Get all radio groups
                    radioGroups.forEach((group, index) => {
                         const checkedRadio = group.querySelector('input[type="radio"]:checked');
                         if (!checkedRadio || checkedRadio.value !== correctAnswers[index]) {
                             allCorrect = false;
                         }
                    });
                } else { // Text input logic
                    const correctAnswers = answers[sectionId];
                    const textInputs = section.querySelectorAll('input[type="text"]');
                    if (textInputs.length === 0) return;
                    
                    textInputs.forEach((input, index) => {
                        const userAnswer = input.value.trim().toLowerCase();
                        const correctAnswer = correctAnswers[index].toLowerCase();
                        let isCorrect = false;
                        
                        // Special handling for Vietnamese answers (part5)
                        if (sectionId === 'part5') {
                            // Allow multiple correct answers for Vietnamese translations
                            const possibleAnswers = correctAnswer.split(',').map(ans => ans.trim());
                            isCorrect = possibleAnswers.some(ans => 
                                userAnswer === ans || 
                                userAnswer.includes(ans.split(' ')[0]) || // Allow partial matches
                                ans.includes(userAnswer)
                            );
                        } else {
                            isCorrect = userAnswer === correctAnswer;
                        }
                        
                        // Teacher mode feedback
                        if (body.classList.contains('teacher-mode')) {
                            input.classList.remove('input-correct-teacher', 'input-incorrect-teacher');
                            if (isCorrect) {
                                input.classList.add('input-correct-teacher');
                            } else {
                                input.classList.add('input-incorrect-teacher');
                            }
                        }

                        if (!isCorrect) {
                            allCorrect = false;
                        }
                    });
                }

                // Student feedback
                if (allCorrect) {
                    feedbackEl.textContent = "ƒê√∫ng";
                    feedbackEl.style.color = "green";
                } else {
                    feedbackEl.textContent = "Sai";
                    feedbackEl.style.color = "red";
                }
            });
        });
    </script>
</body>
</html>
